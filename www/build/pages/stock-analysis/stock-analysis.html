<ion-header>
  <ion-navbar>
    <button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Stock Analysis</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding class="outer-content stock-analysis">

  <h4>Stock Analysis</h4>

  <ion-list no-lines>

    <ion-item>
      <ion-icon name="stats" item-left></ion-icon>
      <ion-label>Market</ion-label>
      <ion-select [(ngModel)]="marketId">
        <ion-option *ngFor="let market of markets" [value]="market.id" [checked]="false">{{market.name}}</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <button large (click)="performAnalysis($event)">Start Analysis</button>
    </ion-item>

  </ion-list>


  <ion-card [hidden]="hideProcessingPanel">

    <ion-item>
      <ion-avatar item-left>
        <span class='badge'>{{stockAnalysis.currentStockIndex}}/{{stockAnalysis.totalStocks}} </span>
      
        </ion-avatar>
        <h2><ion-badge secondary>{{stockAnalysis.currentStock.symbol}}</ion-badge> - {{stockAnalysis.currentStock.name}}</h2>
        <p>{{stockAnalysis.currentMarket.name}}</p>
      
     
    </ion-item>
    <ion-card-content>
      <progress max="3" value="1"></progress>
      <p class='badge'>Preparing data</p>
      <p>Processing historical data from Sept 1, 2015 to Oct 1, 2016.</p>
    </ion-card-content>

  </ion-card>

</ion-content>